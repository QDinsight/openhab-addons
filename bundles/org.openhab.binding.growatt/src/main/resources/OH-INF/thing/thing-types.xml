<?xml version="1.0" encoding="UTF-8"?>
<thing:thing-descriptions bindingId="growatt"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:thing="https://openhab.org/schemas/thing-description/v1.0.0"
	xsi:schemaLocation="https://openhab.org/schemas/thing-description/v1.0.0 https://openhab.org/schemas/thing-description-1.0.0.xsd">

	<!-- Bridge Thing Type -->
	<bridge-type id="bridge">
		<label>Growatt Bridge Thing</label>
		<description>Bridge Thing for Growatt Binding</description>
	</bridge-type>

	<!-- Inverter Thing Type -->
	<thing-type id="inverter">
		<supported-bridge-type-refs>
			<bridge-type-ref id="bridge"/>
		</supported-bridge-type-refs>

		<label>Growatt Inverter Thing</label>
		<description>Inverter Thing for Growatt Binding</description>

		<!-- All known channels; unused channels are dynamically deleted -->
		<channels>
			<channel id="status" typeId="code">
				<label>Inverter Status</label>
				<description>Status code of the inverter (0=ready, 1=online, 2=fault).</description>
			</channel>

			<!-- solar generation -->
			<channel id="pv-power-in" typeId="system.electric-power">
				<label>Solar Input Power</label>
				<description>Total solar input power.</description>
			</channel>
			<channel id="pv-power-out" typeId="system.electric-power">
				<label>Solar Output Power</label>
				<description>Total solar output power.</description>
			</channel>

			<!-- electric data for strings #1 and #2 -->
			<channel id="pv1-potential" typeId="system.electric-voltage">
				<label>String #1 Voltage</label>
				<description>Voltage from solar panel string #1.</description>
			</channel>
			<channel id="pv2-potential" typeId="system.electric-voltage">
				<label>String #2 Voltage</label>
				<description>Voltage from solar panel string #2.</description>
			</channel>

			<channel id="pv1-current" typeId="system.electric-current">
				<label>String #1 Current</label>
				<description>Current from solar panel string #1.</description>
			</channel>
			<channel id="pv2-current" typeId="system.electric-current">
				<label>String #2 Current</label>
				<description>Current from solar panel string #2.</description>
			</channel>

			<channel id="pv1-power" typeId="system.electric-power">
				<label>String #1 Power</label>
				<description>Power from solar panel string #1.</description>
			</channel>
			<channel id="pv2-power" typeId="system.electric-power">
				<label>String #2 Power</label>
				<description>Power from solar panel string #2.</description>
			</channel>

			<!-- grid electric data (1-phase resp. 3-phase) -->
			<channel id="grid-frequency" typeId="frequency">
				<label>Grid Frequency</label>
				<description>Frequency of the grid.</description>
			</channel>
			<channel id="grid-potential" typeId="system.electric-voltage">
				<label>Grid Voltage</label>
				<description>Voltage of the grid (phase #R).</description>
			</channel>
			<channel id="grid-potential-s" typeId="system.electric-voltage">
				<label>Grid Voltage #S</label>
				<description>Voltage of the grid phase #S.</description>
			</channel>
			<channel id="grid-potential-t" typeId="system.electric-voltage">
				<label>Grid Voltage #T</label>
				<description>Voltage of the grid phase #T.</description>
			</channel>
			<channel id="grid-potential-rs" typeId="system.electric-voltage">
				<label>Grid Voltage #RS</label>
				<description>Voltage of the grid phases #RS.</description>
			</channel>
			<channel id="grid-potential-st" typeId="system.electric-voltage">
				<label>Grid Voltage #ST</label>
				<description>Voltage of the grid phases #ST.</description>
			</channel>
			<channel id="grid-potential-tr" typeId="system.electric-voltage">
				<label>Grid Voltage #TR</label>
				<description>Voltage of the grid phases #TR.</description>
			</channel>

			<!-- solar power to grid -->
			<channel id="grid-current" typeId="system.electric-current">
				<label>Grid Current</label>
				<description>Current delivered to the grid (phase #R).</description>
			</channel>
			<channel id="grid-current-s" typeId="system.electric-current">
				<label>Grid Current #S</label>
				<description>Current delivered to the grid phase #S.</description>
			</channel>
			<channel id="grid-current-t" typeId="system.electric-current">
				<label>Grid Current #T</label>
				<description>Current delivered to the grid phase #T.</description>
			</channel>

			<channel id="grid-power" typeId="system.electric-power">
				<label>Grid Power</label>
				<description>Power delivered to the grid (phase #R).</description>
			</channel>
			<channel id="grid-power-s" typeId="system.electric-power">
				<label>Grid Power #S</label>
				<description>Power delivered to the grid phase #S.</description>
			</channel>
			<channel id="grid-power-t" typeId="system.electric-power">
				<label>Grid Power #T</label>
				<description>Power delivered to the grid phase #T.</description>
			</channel>

			<channel id="grid-va" typeId="va">
				<label>Grid VA</label>
				<description>VA delivered to the grid.</description>
			</channel>

			<!-- grid power to battery -->
			<channel id="grid-charge-current" typeId="system.electric-current">
				<label>Charge Current</label>
				<description>Grid current to charge battery.</description>
			</channel>
			<channel id="grid-charge-power" typeId="system.electric-power">
				<label>Charge Power </label>
				<description>Grid power to charge battery.</description>
			</channel>
			<channel id="grid-charge-va" typeId="va">
				<label>Charge VA</label>
				<description>Grid VA to charge battery.</description>
			</channel>

			<!-- grid power from battery -->
			<channel id="grid-discharge-power" typeId="system.electric-power">
				<label>Discharge Power </label>
				<description>Grid power from discharge of battery.</description>
			</channel>
			<channel id="grid-discharge-va" typeId="va">
				<label>Discharge VA</label>
				<description>Grid VA from discharge of battery.</description>
			</channel>

			<!-- battery discharge / charge power -->
			<channel id="battery-charge-power" typeId="system.electric-power">
				<label>Battery Charge Power</label>
				<description>Battery charge power.</description>
			</channel>
			<channel id="battery-discharge-power" typeId="system.electric-power">
				<label>Battery Discharge Power</label>
				<description>Battery discharge power.</description>
			</channel>
			<channel id="battery-discharge-va" typeId="va">
				<label>Battery Discharge VA</label>
				<description>Battery discharge VA.</description>
			</channel>

			<!-- power to grid -->
			<channel id="to-grid-power" typeId="system.electric-power">
				<label>Power to Grid</label>
				<description>Power supplied to grid.</description>
			</channel>
			<channel id="to-grid-power-r" typeId="system.electric-power">
				<label>Power to Grid #R</label>
				<description>Power supplied to grid phase #R.</description>
			</channel>
			<channel id="to-grid-power-s" typeId="system.electric-power">
				<label>Power to Grid #S</label>
				<description>Power supplied to grid phase #S.</description>
			</channel>
			<channel id="to-grid-power-t" typeId="system.electric-power">
				<label>Power to Grid #T</label>
				<description>Power supplied to grid phase #T.</description>
			</channel>

			<!-- power to user -->
			<channel id="to-user-power" typeId="system.electric-power">
				<label>Power to User</label>
				<description>Power supplied to user.</description>
			</channel>
			<channel id="to-user-power-r" typeId="system.electric-power">
				<label>Power to User #R</label>
				<description>Power supplied to user phase #R.</description>
			</channel>
			<channel id="to-user-power-s" typeId="system.electric-power">
				<label>Power to User #S</label>
				<description>Power supplied to user phase #S.</description>
			</channel>
			<channel id="to-user-power-t" typeId="system.electric-power">
				<label>Power to User #T</label>
				<description>Power supplied to user phase #T.</description>
			</channel>

			<!-- power to local -->
			<channel id="to-local-power" typeId="system.electric-power">
				<label>Power to Local</label>
				<description>Power supplied to local.</description>
			</channel>
			<channel id="to-local-power-r" typeId="system.electric-power">
				<label>Power to Local #R</label>
				<description>Power supplied to local phase #R.</description>
			</channel>
			<channel id="to-local-power-s" typeId="system.electric-power">
				<label>Power to Local #S</label>
				<description>Power supplied to local phase #S.</description>
			</channel>
			<channel id="to-local-power-t" typeId="system.electric-power">
				<label>Power to Local #T</label>
				<description>Power supplied to local phase #T.</description>
			</channel>

			<!-- pv energy -->
			<channel id="pv-energy-today" typeId="system.electrical-energy">
				<label>Solar Energy Today</label>
				<description>Solar energy collected today.</description>
			</channel>
			<channel id="pv-energy-total" typeId="system.electrical-energy">
				<label>Solar Energy Total</label>
				<description>Total solar energy collected.</description>
			</channel>

			<!-- energy taken from solar -->
			<channel id="pv-grid-energy-today" typeId="system.electrical-energy">
				<label>Solar Energy to Grid Today</label>
				<description>Solar energy supplied to grid today.</description>
			</channel>
			<channel id="pv1-grid-energy-today" typeId="system.electrical-energy">
				<label>Solar Energy #1 to Grid Today</label>
				<description>Solar energy supplied by string #1 to grid today.</description>
			</channel>
			<channel id="pv2-grid-energy-today" typeId="system.electrical-energy">
				<label>Solar Energy #2 to Grid Today</label>
				<description>Solar energy supplied by string #2 to grid today.</description>
			</channel>

			<channel id="pv-grid-energy-total" typeId="system.electrical-energy">
				<label>Total Solar Energy to Grid</label>
				<description>Total solar energy supplied to grid.</description>
			</channel>
			<channel id="pv1-grid-energy-total" typeId="system.electrical-energy">
				<label>Total Solar Energy #1 to Grid</label>
				<description>Total solar energy supplied by string #1 to grid .</description>
			</channel>
			<channel id="pv2-grid-energy-total" typeId="system.electrical-energy">
				<label>Total Solar Energy #2 to Grid</label>
				<description>Total solar energy supplied by string #2 to grid.</description>
			</channel>

			<!-- energy supplied to grid -->
			<channel id="to-grid-energy-today" typeId="system.electrical-energy">
				<label>Energy to Grid Today</label>
				<description>Energy supplied to grid today.</description>
			</channel>
			<channel id="to-grid-energy-total" typeId="system.electrical-energy">
				<label>Total Energy to Grid</label>
				<description>Total energy supplied to grid.</description>
			</channel>

			<!-- energy supplied to user -->
			<channel id="to-user-energy-today" typeId="system.electrical-energy">
				<label>Energy to User Today</label>
				<description>Energy supplied to user today.</description>
			</channel>
			<channel id="to-user-energy-total" typeId="system.electrical-energy">
				<label>Total Energy to User</label>
				<description>Total energy supplied to user.</description>
			</channel>

			<!-- energy supplied to local -->
			<channel id="to-local-energy-today" typeId="system.electrical-energy">
				<label>Energy to Local Today</label>
				<description>Energy supplied to local today.</description>
			</channel>
			<channel id="to-local-energy-total" typeId="system.electrical-energy">
				<label>Total Energy to Local</label>
				<description>Total energy supplied to local.</description>
			</channel>

			<!-- energy taken from grid to charge -->
			<channel id="grid-charge-energy-today" typeId="system.electrical-energy">
				<label>Energy to Charge Battery Today</label>
				<description>Energy used to charge battery today.</description>
			</channel>
			<channel id="grid-charge-energy-total" typeId="system.electrical-energy">
				<label>Total Energy to Charge Battery</label>
				<description>Total energy used to charge battery.</description>
			</channel>

			<!-- energy supplied to grid from discharge of battery -->
			<channel id="grid-discharge-energy-today" typeId="system.electrical-energy">
				<label>Grid Energy from Battery Today</label>
				<description>Grid energy produced from battery today.</description>
			</channel>
			<channel id="grid-discharge-energy-total" typeId="system.electrical-energy">
				<label>Total Grid Energy from Battery</label>
				<description>Total grid energy produced from battery.</description>
			</channel>

			<!-- energy taken from battery -->
			<channel id="battery-discharge-energy-today" typeId="system.electrical-energy">
				<label>Battery Discharge Energy Today</label>
				<description>Energy consumed from battery.</description>
			</channel>
			<channel id="battery-discharge-energy-total" typeId="system.electrical-energy">
				<label>Total Battery Discharge Energy</label>
				<description>Total energy consumed from battery.</description>
			</channel>

			<!-- inverter up time -->
			<channel id="total-work-time" typeId="work-time">
				<label>Total Working Time</label>
				<description>Total inverter working time.</description>
			</channel>

			<!-- bus voltages -->
			<channel id="p-bus-potential" typeId="system.electric-voltage">
				<label>P Bus Voltage</label>
				<description>P Bus voltage.</description>
			</channel>
			<channel id="n-bus-potential" typeId="system.electric-voltage">
				<label>N Bus Voltage</label>
				<description>N Bus voltage.</description>
			</channel>
			<channel id="sp-bus-potential" typeId="system.electric-voltage">
				<label>N Bus Voltage</label>
				<description>N Bus voltage.</description>
			</channel>

			<!-- temperatures -->
			<channel id="pv-temperature" typeId="system.outdoor-temperature">
				<label>Solar Panel Temperature</label>
				<description>Temperature of the solar panels (string #1).</description>
			</channel>
			<channel id="pv-ipm-temperature" typeId="system.outdoor-temperature">
				<label>Solar IPM Temperature</label>
				<description>Temperature of the IPM.</description>
			</channel>
			<channel id="pv-boost-temperature" typeId="system.outdoor-temperature">
				<label>Boost Temperature</label>
				<description>Boost temperature.</description>
			</channel>
			<channel id="temperature-4" typeId="system.outdoor-temperature">
				<label>Temp #4</label>
				<description>Temperature #4.</description>
			</channel>
			<channel id="pv2-temperature" typeId="system.outdoor-temperature">
				<label>Solar Panel Temperature #2</label>
				<description>Temperature of the solar panels (string #2).</description>
			</channel>

			<!-- battery data -->
			<channel id="battery-type" typeId="code">
				<label>Battery Type</label>
				<description>Type code of the battery.</description>
			</channel>
			<channel id="battery-temperature" typeId="system.outdoor-temperature">
				<label>Battery Temperature</label>
				<description>Battery temperature.</description>
			</channel>
			<channel id="battery-potential" typeId="system.electric-voltage">
				<label>Battery Voltage</label>
				<description>Battery voltage.</description>
			</channel>
			<channel id="battery-display" typeId="code">
				<label>Battery Display</label>
				<description>Battery display code.</description>
			</channel>
			<channel id="battery-soc" typeId="code">
				<label>Battery SOC</label>
				<description>Battery SOC code.</description>
			</channel>

			<!-- fault codes -->
			<channel id="system-fault-0" typeId="code">
				<label>Fault Code #0</label>
				<description>System fault code #0.</description>
			</channel>
			<channel id="system-fault-1" typeId="code">
				<label>Fault Code #1</label>
				<description>System fault code #1.</description>
			</channel>
			<channel id="system-fault-2" typeId="code">
				<label>Fault Code #2</label>
				<description>System fault code #2.</description>
			</channel>
			<channel id="system-fault-3" typeId="code">
				<label>Fault Code #3</label>
				<description>System fault code #3.</description>
			</channel>
			<channel id="system-fault-4" typeId="code">
				<label>Fault Code #4</label>
				<description>System fault code #4.</description>
			</channel>
			<channel id="system-fault-5" typeId="code">
				<label>Fault Code #5</label>
				<description>System fault code #5.</description>
			</channel>
			<channel id="system-fault-6" typeId="code">
				<label>Fault Code #6</label>
				<description>System fault code #6.</description>
			</channel>
			<channel id="system-fault-7" typeId="code">
				<label>Fault Code #7</label>
				<description>System fault code #7.</description>
			</channel>

			<!-- miscellaneous -->
			<channel id="system-work-mode" typeId="code">
				<label>System Work Mode</label>
				<description>System work mode code.</description>
			</channel>
			<channel id="sp-display-status" typeId="code">
				<label>Solar Panel Display</label>
				<description>Solar panel display status code.</description>
			</channel>
			<channel id="constant-power-ok" typeId="code">
				<label>Constant Power OK</label>
				<description>Constant power OK code.</description>
			</channel>


			<!-- rac ?? -->
			<channel id="rac" typeId="code">
				<label>RAC</label>
				<description>RAC code.</description>
			</channel>
			<channel id="erac-today" typeId="code">
				<label>ERAC Today</label>
				<description>ERAC count today.</description>
			</channel>
			<channel id="erac-total" typeId="code">
				<label>ERAC Total</label>
				<description>Total ERAC count.</description>
			</channel>

			<!-- duplicates ?? -->
			<channel id="output-potential" typeId="system.electric-voltage">
				<label>Output Voltage</label>
				<description>Output voltage.</description>
			</channel>
			<channel id="output-frequency" typeId="frequency">
				<label>Output Frequency</label>
				<description>Output frequency.</description>
			</channel>
			<channel id="load-percent" typeId="percent">
				<label>Load Percent</label>
				<description>Percent of full load.</description>
			</channel>
			<channel id="inverter-current" typeId="system.electric-current">
				<label>Inverter Current</label>
				<description>Inverter current.</description>
			</channel>
			<channel id="grid-input-power" typeId="system.electric-power">
				<label>Grid Input Power</label>
				<description>Grid input power.</description>
			</channel>
			<channel id="grid-input-va" typeId="va">
				<label>Grid Input VA</label>
				<description>Grid input VA.</description>
			</channel>

		</channels>

		<config-description>
			<parameter name="deviceId" type="text" required="true">
				<label>Device Id</label>
				<description>Id of the inverter.</description>
			</parameter>
		</config-description>
	</thing-type>

	<!-- Binding Specific Channel Types -->
	<channel-type id="code">
		<item-type>Number:Dimensionless</item-type>
		<label>n</label>
		<category>Status</category>
		<state readOnly="true" pattern="%00d"/>
	</channel-type>

	<channel-type id="percent">
		<item-type>Number:Dimensionless</item-type>
		<label>Percent</label>
		<category>Energy</category>
		<state readOnly="true" pattern="%0.1f %%"/>
	</channel-type>

	<channel-type id="frequency">
		<item-type>Number:Frequency</item-type>
		<label>Hz</label>
		<category>Energy</category>
		<state readOnly="true" pattern="%0.2f Hz"/>
	</channel-type>

	<channel-type id="va">
		<item-type>Number:Power</item-type>
		<label>VA</label>
		<category>Energy</category>
		<state readOnly="true" pattern="%0.0f VA"/>
	</channel-type>

	<channel-type id="work-time">
		<item-type>Number:Time</item-type>
		<label>h</label>
		<category>Time</category>
		<state readOnly="true" pattern="%0.1f h"/>
	</channel-type>

</thing:thing-descriptions>
